<div id="post-list-container">
  {% for post in object_list %}

  <div class="border">
    <div class="mb-3">
      <a href="{% url 'profile' post.owner.id %}">{{post.owner}}</a>
      id {{post.id}}
    </div>
    {% comment %} Post content {% endcomment %}
    <div id="post-content-wrapper-{{post.id}}">
      <p>said <span id="post-{{post.id}}-content">{{post.content}}</span></p>
    </div>
    {% comment %} Edit area {% endcomment %}
    {% if user.is_authenticated and post.owner == user %}
    <div id="post-edit-wrapper-{{post.id}}" class="hidden">
      <form id="edit-post-form-{{post.id}}" data-postId="{{post.id}}">
        <textarea required name="content" id="content-{{post.id}}" cols="40" rows="2">{{post.content}}</textarea>
        <input type="submit" value="Submit">
        <button id="cancel-edit-{{post.id}}" data-postId="{{post.id}}">Cancel</button>
      </form>
      
    </div>
    {% endif %}

    <p>
      like count:
      <span id="post-{{post.id}}-like-count">{{post.like_count}}</span>
    </p>
    <p>originally posted at: {{post.created_at}}</p>
    {% if user.is_authenticated %}
    <button
      id="like-post-{{post.id}}"
      data-postId="{{post.id}}"
      data-likedStatus="{{post.is_liked|lower}}"
    >
      {% if post.is_liked %} Unlike {% else %} Like {% endif %}
    </button>
    {% if user == post.owner %}

    <button id="post-edit-button-{{post.id}}" data-postId="{{post.id}}">
      Edit
    </button>
    <button id="post-delete-button-{{post.id}}" data-postId="{{post.id}}">Delete</button>

    {% endif %} {% endif %}
  </div>

  {% endfor %}
</div>
